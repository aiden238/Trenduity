===== SEED_step_prompt.txt =====

[ROLE]
You are now responsible for **seed data & initialization scripts**.
Assume core implementations exist and compile.

Your job in THIS STEP:
- Provide realistic **seed data** for cards, insights, Q&A, etc.
- Create scripts to populate Postgres (Supabase) with this data.
- Ensure the app is demoable without manual DB edits.

[TASKS]

1) Seed Data Design
   - Create JSON or TypeScript/Python seed modules for:
     - **Daily Cards**:
       - At least 8 cards across 4 types:
         - AI 활용법 (ex: “AI란 무엇인가요?”, “음성 비서로 할 수 있는 일들”)
         - 최신 트렌드 (AI/빅테크/경제 – 한국 시니어가 관심 가질만한 주제)
         - 디지털 안전 (스미싱/피싱/계정 보안)
         - 생활 팁/모바일101 (사진 정리, 문자 설정, 자주 쓰는 앱 활용법)
       - 각 카드: type, title, TL;DR, body(300–500자), impact, quiz(1–3 객관식 문항).
     - **Insights**:
       - 각 topic(ai/bigtech/economy/safety/mobile101)별 최소 3개.
       - 실제 기사처럼 보이지만, 구체적인 시점/수치는 피하고, 일반적인 설명으로.
     - **Q&A Posts**:
       - 5개 정도:
         - ex: “문자에 있는 링크 눌러도 되나요?”, “미리캔버스에서 글씨 크기 바꾸는 법?”
         - 일부는 is_anon=true, 일부는 닉네임 포함.
     - **Gamification/Baseline**:
       - 1–2명의 데모 유저에 대해, 소량의 포인트/스트릭 히스토리를 만들어도 좋음(선택).

   - Seed 데이터는:
     - BFF와 클라이언트가 바로 사용 가능한 구조여야 한다.
     - 이후 확장/수정이 쉬운 형태(예: 배열/리스트)로 구성한다.

2) DB Seed Scripts
   - Under `scripts/`, add:
     - `seed_data.py` (Python) 또는 `seed_data.ts` (Node) 중 하나를 선택.
   - 이 스크립트는:
     - `.env` 또는 `.env.local`에서 DB 접속 정보(Supabase 혹은 로컬 Postgres)를 읽는다.
     - 다음 테이블에 데이터 삽입:
       - `cards`, `insights`, `qna_posts`, (선택) `profiles`.
     - 중복 실행 시 중복 데이터가 폭발하지 않도록, 최소한의 idempotent 전략을 사용:
       - 예: 동일 title/date인 경우 업데이트, 아니면 삽입.
     - 처리 결과를 로그로 출력:
       - “cards inserted: N, updated: M” 등.

3) Minimal Demo Profiles
   - Optionally seed:
     - 50대, 60대, 70대 시니어 각각 1명씩의 가상 `profiles`:
       - display_name, age_band, a11y prefs 등.
   - 실제 이메일/전화번호는 사용하지 말고, “demo+id@example.com” 같은 패턴으로.

4) Wiring Seed Data to Behavior
   - 보장해야 할 것:
     - `/v1/cards/today` 호출 시, 최소 한 개의 카드가 나온다.
       - 필요하다면 “오늘 날짜가 아닌 카드라도 가장 최근 카드”를 반환하는 기본 정책을 seed script 또는 BFF에서 맞춘다.
     - `/v1/insights`는 각 토픽별로 1개 이상 반환한다.
     - `/v1/qna`는 seed된 질문들을 반환한다.
   - 필요하다면, 일부 BFF 쿼리나 `WHERE` 조건을 가볍게 손봐서 seed 데이터가 잘 드러나도록 조정한다.

[CONSTRAINTS]

- 외부 뉴스 API, 웹 크롤링 등은 사용하지 않는다. 모든 seed 텍스트는 로컬 파일에 포함.
- Seed 내용은:
  - 안전하고, 특정 개인/브랜드를 직접적으로 비난하지 않고,
  - 시니어 대상 교육용으로 자연스러운 한국어를 사용해야 한다.
- Seed 스크립트는 실패 시 명확한 로그를 남기고 종료해야 한다.

[OUTPUT FORMAT]

- Create/modify:
  - 하나 이상의 seed용 스크립트(`scripts/seed_data.py` 또는 `.ts`).
  - 하나 이상의 seed 데이터 파일(JSON/TS/Python dicts).
- 마지막에 요약 출력:
  - Seed 스크립트 실행 방법(명령 예시).
  - 어떤 테이블에 어떤 데이터가 들어가는지.
  - 예시 카드/인사이트/Q&A 하나를 JSON 형태로 샘플로 보여준다.
