===== DOCS_step_prompt.txt =====

[ROLE]
You are now the **documentation lead**.
Assume implementation, seed, and tests exist and the repo builds.

Your job in THIS STEP:
- Produce clear, concise documentation so that:
  - A new developer can onboard quickly.
  - A non-technical stakeholder(교수님, 심사위원, 파트너 등)가 개념을 이해할 수 있다.
  - 미래의 우리가 설계와 의사결정을 빠르게 복기할 수 있다.

[TASKS]

1) Root README.md
   - Audience: mixed (개발자 + 비개발자).
   - 포함 내용:
     - 프로젝트 한글 요약:
       - 어떤 사람(50–70대)을 위한 앱인지.
       - 어떤 문제(디지털 격차, AI/트렌드/사기 정보 부족)를 해결하는지.
       - 이 MVP가 제공하는 핵심 가치(3가지 bullet).
     - 주요 기능 요약:
       - 오늘의 한 가지(카드+퀴즈)
       - 인사이트 허브
       - 음성 인텐트
       - 사기검사
       - 도구 트랙(미리캔버스/캔바/소라)
       - 라이트 커뮤니티
       - 가족/복약/게임화
     - 기술 스택 텍스트 다이어그램:
       - “모바일(RN) ↔ BFF(FastAPI) ↔ DB(Supabase)” + “웹 콘솔(Next.js)” + “Redis” 관계를 글로 설명.
     - 빠른 시작(Quick Start):
       - 필수 설치 도구(Node, Python, Docker 등).
       - 로컬 개발 단계:
         - 의존성 설치 → dev 환경 실행 → seed 실행 → 테스트 실행.
       - 아주 간단한 데모 시나리오:
         - “시니어가 오늘의 카드를 보고 퀴즈를 풀고, 복약 체크를 하면, 가족이 웹 콘솔에서 이를 확인한다”고 하는 흐름을 단계별 bullet로.

2) Architecture Doc (`docs/ARCHITECTURE.md`)
   - Audience: 개발자.
   - 포함 내용:
     - 모노레포 구조 정리:
       - `apps/mobile-expo`, `apps/web-next`, `services/bff-fastapi`, `packages/ui`, `packages/types`, `infra`, `scripts`, `docs`.
     - 각 레이어의 책임:
       - Mobile, Web, BFF, DB, Redis, Auth.
     - 주요 데이터 플로우(텍스트 시퀀스 다이어그램 형태):
       - Daily Card fetch & complete.
       - 인사이트 조회.
       - 음성 인텐트 처리.
       - 사기검사.
       - 도구 트랙 step 완료.
       - Q&A 작성/조회.
       - Med check 및 가족 대시보드 반영.
     - DB 스키마 개요:
       - 주요 테이블별 역할과 관계(ERD를 텍스트로 표현).
     - 보안/성능/원가:
       - RLS 개념, gamification 콜, Redis 캐시, LLM 비용 가드(향후 도입 시).

3) API Reference (`docs/API.md`)
   - Audience: 클라이언트 개발자(RN/웹).
   - 포맷:
     - 각 엔드포인트마다 섹션.
     - 포함:
       - 메서드 + URL.
       - 설명(간단).
       - 요청 JSON 예시.
       - 응답 JSON 예시.
       - 주요 에러 코드/상황.
   - 다루어야 할 엔드포인트:
     - `/v1/cards/today`, `/v1/cards/complete`
     - `/v1/voice/intent`
     - `/v1/scam/check`
     - `/v1/insights`, `/v1/insights/:id`
     - `/v1/insights/follow`, `/v1/insights/following`
     - `/v1/reactions`
     - `/v1/qna`
     - `/v1/tools/progress`
     - `/v1/family/*`
     - `/v1/usage`

4) UX & A11y Notes (`docs/UX_A11Y.md`)
   - Audience: 디자이너/프론트엔드/심사위원.
   - 포함:
     - 연령대별 UX 포인트:
       - 50대/60대/70대가 각각 어떤 부분에서 어려움을 느끼는지 짧게.
     - UI 원칙:
       - 한 화면 한 가지 주요 행동.
       - 짧은 문장, 어려운 용어 피하기.
       - 버튼/폰트 크기/대비 기준.
     - 텍스트 작성 가이드:
       - 카드/인사이트/퀴즈의 길이, 톤(친절하지만 과장되지 않은).
     - TTS 사용 원칙:
       - 어떤 화면에서 어떻게 TTS를 노출하는지.

5) Operations & Future (`docs/OPERATIONS_FUTURE.md`)
   - Audience: DevOps/미래 팀.
   - 포함:
     - 로컬/스테이징/프로덕션 환경의 개념적 차이.
     - 로깅/모니터링:
       - 어떤 이벤트를 로깅하는지(audit_logs 개념 포함).
       - 에러/성능 지표(p95 등)에 대한 간단한 설명.
     - LLM 연동을 실제 붙일 때 고려사항:
       - 비용, 프라이버시, 품질 관리(하드캡, 사전생성, 폴백 모델 등).
     - 향후 확장 아이디어:
       - 더 풍부한 커뮤니티(댓글/DM/랭킹),
       - 병원/지자체 연동,
       - 더 많은 도구 트랙.

[CONSTRAINTS]

- 문서는 과도하게 길 필요는 없지만, 핵심 질문에 답해야 한다:
  - “이게 뭔데?”, “어떻게 돌아가는데?”, “어디를 고치면 되는데?”, “어떻게 시연하지?”
- 코드/콘피그 설명은 README와 ARCHITECTURE에, 비즈니스/사용자 설명은 README와 UX_A11Y에 분할.

[OUTPUT FORMAT]

- Create/modify:
  - `README.md`
  - `docs/ARCHITECTURE.md`
  - `docs/API.md`
  - `docs/UX_A11Y.md`
  - `docs/OPERATIONS_FUTURE.md`
- 마지막 출력에는 간단한 인덱스:
  - 각 문서가 “어떤 상황에서 읽으면 좋은지” 한 줄 요약을 포함한다.
