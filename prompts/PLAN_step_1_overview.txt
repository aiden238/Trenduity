===== PLAN_step_1_overview.txt =====

[ROLE]
You are a **senior system/solution architect + tech lead** operating inside a code-aware environment (Copilot Code with Claude Sonnet or GPT Codex).
In THIS STEP you do **planning only**: you do NOT implement business logic, do NOT write migrations, and do NOT generate large code blocks.
Your output is structured planning content for sections 1-2 of `docs/PLAN.md`.

[GLOBAL CONTEXT – PRODUCT & ARCHITECTURE]

Product name (working): **"50–70대 AI 학습 앱"**

Target:
- Korean users in their **50s, 60s, 70s** with very different digital literacy levels.
- 50대: 스마트폰/PC 사용은 익숙하지만, AI·최신 툴·트렌드 이해 부족.
- 60대: 스마트폰·PC 활용도 낮아지고, 디지털 사기·설정·보안에 대한 불안이 큼.
- 70대: IT 기기 자체 사용이 부담. 한 화면에 1~2개의 큰 행동만, 가족 도움 필수.

Problem:
- 시니어가 "AI·디지털·경제·사기·실생활 팁"을 따라가고 싶지만,
  - 정보는 어렵게 흩어져 있고,
  - 플랫폼은 복잡하며,
  - 안전/사기 리스크를 스스로 판단하기 힘들다.

Core value:
> "찾지 않아도 한 번에 이해되는 3분 카드" + "버튼 몇 개, 음성으로 끝나는 실행 경험"  
> + "가족/기관이 뒤에서 quietly 서포트하는 구조"

Tech stack (fixed):
- Mobile: **Expo React Native** (TypeScript, React Navigation, Expo Speech/Notifications, AsyncStorage/SQLite).
- Web console: **Next.js(app router)** for 가족/기관 대시보드.
- BFF: **FastAPI** (pydantic v2, Uvicorn, SQLAlchemy or equivalent).
- Data platform: **Supabase(Postgres + Auth + RLS + Storage)**.
- Cache/Queue/Rate limit: **Redis (Upstash compatible)**.
- Monorepo: `repo/` with `apps/`, `services/`, `packages/`, `infra/`, `scripts/`, `docs/`.

Fundamental architecture rule (F안 – 경량 BFF 집중형):
- **읽기**: 클라이언트 → Supabase (RLS 보호, 직접 조회) where safe/simple.
- **쓰기/민감/비즈니스 규칙/LLM/외부연동**: 클라이언트 → FastAPI BFF → Supabase (service_role) / Redis / external.
- BFF is stateless and horizontally scalable.

Core domain capabilities (MVP):
1) **Daily Card (오늘의 한 가지)**  
   - 3분 안에 이해 가능한 카드: AI 활용법 / 최신 트렌드 / 디지털 안전 / 생활·스마트폰 팁
   - 카드 구조: type, title, TL;DR, body(300-500자), impact, optional quiz
   - 행동: 읽기(TTS), 퀴즈, 완료 표시, 반응, 포인트/스트릭

2) **Insight Hub (인사이트 허브)**  
   - 토픽: ai, bigtech, economy, safety, mobile101
   - 토픽별 카드 리스트, 주간/월간 요약, 팔로우/언팔로우, 저장/공유, TTS, 푸시 구독

3) **Voice Intents (음성 인텐트 6종)**  
   - intents: open, search, call, sms, remind, navigate
   - 한국어 문장 룰 기반 파싱 → {intent, slots} → {action, deeplink?, app_route?}

4) **Scam Check (사기검사)**  
   - 텍스트/URL → 라벨: safe/warn/danger + 설명 + 행동 팁
   - 룰 기반: 스미싱 키워드, 도메인 유사도, 단축 URL, 국제 번호

5) **Tool Tracks (도구 실습 트랙)**  
   - 각 도구별 3-4단계 실습: 미리캔버스/캔바/소라 등
   - 진척도는 tools_progress에 저장

6) **Light Community (라이트 커뮤니티)**  
   - 반응: 응원해요/도움됐어요
   - Q&A: 주제 프리셋, 제목+본문, 익명 허용, ai_summary, 신고/금칙어 필터

7) **Family & Med Check (가족 연동/복약)**  
   - Med check: 오늘 약 먹기 체크하기 버튼
   - Family: guardian ↔ senior 링크, 가족 대시보드(웹)에서 카드 완료/복약/사용량 확인

8) **Gamification (게임화)**  
   - 포인트: 카드 완료, 퀴즈, 도구 스텝, 복약 체크, 사기검사 사용
   - 스트릭: 연속 n일 수행
   - 배지: 첫 카드, 7일 연속, 트랙 완주, 사기검사 5회 등

9) **Accessibility (접근성)**  
   - 모드: normal/easy/ultra
   - 폰트 크기, 터치 영역, 대비, 간격
   - TTS 지원, 동사+목적어 한국어 버튼 레이블

[CONSTRAINTS FOR THIS STEP]

- Do NOT output any TypeScript/Python/SQL code.
- Do NOT propose external tools/libraries beyond the given stack.
- Do NOT ask questions. If information is missing, choose a reasonable convention, note it as an assumption, and keep going.
- Output only sections 1-2 for `docs/PLAN.md`.

[TASKS FOR THIS STEP]

Generate sections 1-2 of `docs/PLAN.md`:

**1) Project Overview**
   - Summarize:
     - Target users by age band (50/60/70) and typical digital literacy.
     - Core value proposition in 3 bullets.
     - A single "elevator pitch" sentence in Korean for non-technical stakeholders.
   - Clarify what this MVP is **not**:
     - no full SNS, no in-app payment, no actual model training, no hospital EMR integration, etc.

**2) Architecture Overview**
   - Provide a **layered description**:
     - Presentation: Expo RN app, Next.js web console.
     - BFF: FastAPI service.
     - Data: Supabase(Postgres), Redis, Storage.
   - For each layer:
     - Responsibilities.
     - Things they are **not allowed** to do (e.g., mobile app must not hold service_role keys).
   - For each major feature, provide **one data-flow diagram in text**:
     - "Daily Card read & complete": 어디서 토큰을 읽는지, 어떤 테이블/엔드포인트를 거치는지, gamification 연쇄 호출
     - "Insight 조회"
     - "Voice intent 처리"
     - "Scam check"
     - "Tool track 단계 완료"
     - "Q&A 작성/조회"
     - "Med check & 가족 대시보드 반영"

[OUTPUT FORMAT]

Generate markdown with headings:

# 1. Project Overview
## 1.1 Target Users
## 1.2 Core Value Proposition
## 1.3 What This MVP Is NOT

# 2. Architecture Overview
## 2.1 Layered Architecture
### 2.1.1 Presentation Layer
### 2.1.2 BFF Layer
### 2.1.3 Data Layer
## 2.2 Data Flow Diagrams
### 2.2.1 Daily Card Read & Complete
### 2.2.2 Insight 조회
### 2.2.3 Voice Intent 처리
### 2.2.4 Scam Check
### 2.2.5 Tool Track 단계 완료
### 2.2.6 Q&A 작성/조회
### 2.2.7 Med Check & 가족 대시보드 반영

Use nested bullet lists and avoid prose paragraphs longer than 8-10 lines.
Include inline Korean examples where relevant.
Do NOT include code blocks.
