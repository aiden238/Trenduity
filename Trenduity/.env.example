# ====================
# Trenduity - 환경 변수 템플릿
# ====================
# 이 파일을 복사하여 .env 파일을 생성하고 실제 값을 입력하세요.
# ⚠️ .env 파일은 Git에 커밋하지 마세요! (.gitignore에 포함됨)

# ====================
# Supabase 설정
# ====================
# Supabase 프로젝트 URL (예: https://xxxxx.supabase.co)
SUPABASE_URL=https://your-project-id.supabase.co

# Supabase anon/public key (클라이언트에서 사용, RLS 적용됨)
SUPABASE_ANON_KEY=your-anon-key-here

# ⚠️ Supabase service_role key (BFF에서만 사용, 절대 클라이언트 노출 금지!)
# RLS를 우회하는 관리자 권한 키이므로 서버 환경에서만 사용
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# Supabase 데이터베이스 직접 연결 URL (마이그레이션/시드용)
# 형식: postgresql://postgres:[PASSWORD]@db.[PROJECT-REF].supabase.co:5432/postgres
DATABASE_URL=postgresql://postgres:postgres@localhost:54322/postgres

# ====================
# Redis 설정
# ====================
# Redis 연결 URL (로컬: redis://localhost:6379, 프로덕션: Redis Cloud URL)
REDIS_URL=redis://localhost:6379/0

# Redis 비밀번호 (로컬 개발에서는 보통 불필요)
REDIS_PASSWORD=

# ====================
# BFF API 설정
# ====================
# BFF 서버 URL (프론트엔드에서 호출)
BFF_API_URL=http://localhost:8000

# Next.js에서 사용하는 BFF URL (NEXT_PUBLIC_ 접두사 필요)
NEXT_PUBLIC_BFF_API_URL=http://localhost:8000

# BFF 서버 포트
BFF_PORT=8000

# CORS 허용 오리진 (쉼표로 구분)
CORS_ORIGINS=http://localhost:3000,http://localhost:19006

# ====================
# Next.js 웹 앱 (apps/web-next)
# ====================
# Supabase 공개 설정 (클라이언트에서 직접 읽기용)
NEXT_PUBLIC_SUPABASE_URL=https://your-project-id.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key-here

# 번들 분석 활성화 (개발 시에만 true로 설정)
ANALYZE=false

# ====================
# Expo 모바일 앱 (apps/mobile-expo)
# ====================
# Supabase 공개 설정 (EXPO_PUBLIC_ 접두사 필요)
EXPO_PUBLIC_SUPABASE_URL=https://your-project-id.supabase.co
EXPO_PUBLIC_SUPABASE_ANON_KEY=your-anon-key-here

# BFF API URL (모바일 앱에서 접근)
EXPO_PUBLIC_BFF_URL=http://localhost:8000

# Expo 프로젝트 ID (Expo 계정에서 확인)
EXPO_PROJECT_ID=

# ====================
# 외부 API 키 (선택사항)
# ====================
# OpenAI API 키 (AI 요약/분석 기능 사용 시)
# OPENAI_API_KEY=sk-...

# Azure OpenAI 엔드포인트 (대안)
# AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com/
# AZURE_OPENAI_KEY=your-azure-key

# Anthropic Claude API 키 (대안)
# ANTHROPIC_API_KEY=sk-ant-...

# ====================
# 테스트 환경 변수
# ====================
# E2E 테스트용 사용자 토큰 (시니어 역할)
TEST_USER_TOKEN=

# E2E 테스트용 보호자 토큰 (가족 역할)
TEST_GUARDIAN_TOKEN=

# 테스트용 사용자 ID
TEST_USER_ID=
TEST_GUARDIAN_ID=

# ====================
# 환경 구분
# ====================
# 실행 환경 (development, staging, production)
ENV=development
NODE_ENV=development

# 디버그 모드 (true/false)
DEBUG=true

# 로그 레벨 (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# ====================
# 모니터링 & 분석 (선택사항)
# ====================
# Sentry DSN (에러 추적)
# SENTRY_DSN=https://...@sentry.io/...

# Google Analytics ID
# GA_TRACKING_ID=G-XXXXXXXXXX

# Mixpanel 토큰
# MIXPANEL_TOKEN=your-mixpanel-token

# ====================
# 알림 서비스 (선택사항)
# ====================
# Firebase Cloud Messaging Server Key
# FCM_SERVER_KEY=your-fcm-key

# Apple Push Notification Service (APNS) 인증서
# APNS_KEY_ID=your-key-id
# APNS_TEAM_ID=your-team-id

# ====================
# 레이트 리미팅
# ====================
# API 요청 제한 (요청/분)
RATE_LIMIT_PER_MINUTE=60

# 버스트 요청 허용 횟수
RATE_LIMIT_BURST=10

# ====================
# 기능 플래그
# ====================
# AI 기능 활성화
FEATURE_AI_ENABLED=true

# 음성 인식 활성화
FEATURE_VOICE_ENABLED=true

# 커뮤니티 Q&A 활성화
FEATURE_COMMUNITY_ENABLED=true

# 가족 연동 활성화
FEATURE_FAMILY_ENABLED=true
