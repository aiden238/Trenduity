# ====================
# BFF FastAPI 서버 환경 변수
# ====================
# 이 파일을 복사하여 .env 파일을 생성하고 실제 값을 입력하세요.

# ====================
# FastAPI 기본 설정
# ====================
# 실행 환경 (development, staging, production)
ENV=development

# 디버그 모드 (True/False)
DEBUG=True

# API 버전
API_VERSION=v1

# 서버 포트
PORT=8000

# ====================
# Supabase 설정
# ====================
# Supabase 프로젝트 URL
SUPABASE_URL=https://your-project-id.supabase.co

# ⚠️ Supabase service_role key (BFF에서만 사용, 절대 클라이언트 노출 금지!)
# RLS를 우회하는 관리자 권한 키
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# ====================
# Redis 설정
# ====================
# Redis 연결 URL
REDIS_URL=redis://localhost:6379/0

# Redis 비밀번호 (필요한 경우)
REDIS_PASSWORD=

# Redis 연결 풀 최대 크기
REDIS_MAX_CONNECTIONS=10

# ====================
# CORS 설정
# ====================
# CORS 허용 오리진 (쉼표로 구분)
CORS_ORIGINS=http://localhost:3000,http://localhost:19006

# CORS 허용 메서드
CORS_METHODS=GET,POST,PUT,PATCH,DELETE,OPTIONS

# ====================
# AI API 설정 (GPT-5/Gemini)
# ====================
# OpenAI API 키 (GPT-4o, GPT-4o-mini 사용)
OPENAI_API_KEY=your-openai-api-key-here

# Google Gemini API 키 (Gemini 1.5 Flash, Gemini 1.5 Pro 사용)
GOOGLE_API_KEY=your-google-api-key-here

# CORS 허용 헤더
CORS_HEADERS=*

# ====================
# JWT 설정
# ====================
# JWT 서명용 시크릿 (랜덤 문자열, 최소 32자)
JWT_SECRET=your-jwt-secret-min-32-chars-please-change-in-production

# JWT 만료 시간 (초 단위, 기본: 3600 = 1시간)
JWT_EXPIRATION=3600

# ====================
# 외부 API (선택사항)
# ====================
# OpenAI API 키 (AI 요약/분석 기능 사용 시)
# OPENAI_API_KEY=sk-...

# OpenAI 모델명
# OPENAI_MODEL=gpt-4o-mini

# Azure OpenAI 설정 (대안)
# AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com/
# AZURE_OPENAI_KEY=your-azure-key
# AZURE_OPENAI_DEPLOYMENT=gpt-4

# ====================
# 레이트 리미팅
# ====================
# API 요청 제한 (요청/분)
RATE_LIMIT_PER_MINUTE=60

# 버스트 요청 허용 횟수
RATE_LIMIT_BURST=10

# ====================
# 로깅 설정
# ====================
# 로그 레벨 (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# 로그 포맷 (json, text)
LOG_FORMAT=text

# ====================
# 성능 설정
# ====================
# 느린 요청 임계값 (밀리초)
SLOW_REQUEST_THRESHOLD_MS=200

# 캐시 TTL (초)
CACHE_TTL_SHORT=60
CACHE_TTL_MEDIUM=600
CACHE_TTL_LONG=3600

# ====================
# 보안 설정
# ====================
# 허용된 파일 확장자 (쉼표로 구분)
ALLOWED_FILE_EXTENSIONS=jpg,jpeg,png,gif,webp,pdf

# 파일 업로드 최대 크기 (MB)
MAX_FILE_SIZE_MB=10

# ====================
# 기능 플래그
# ====================
# AI 기능 활성화
FEATURE_AI_ENABLED=true

# 음성 인식 활성화
FEATURE_VOICE_ENABLED=true

# 커뮤니티 Q&A 활성화
FEATURE_COMMUNITY_ENABLED=true

# ====================
# 모니터링 (선택사항)
# ====================
# Sentry DSN (에러 추적)
# SENTRY_DSN=https://...@sentry.io/...

# Sentry 환경
# SENTRY_ENVIRONMENT=development

# Sentry 샘플 레이트 (0.0 ~ 1.0)
# SENTRY_TRACES_SAMPLE_RATE=0.1
